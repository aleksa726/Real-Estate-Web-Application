<div class="container">
    <table style="margin: auto;">
        <tr>
            <td>
                <mat-form-field appearance="fill">
                    <mat-label>Tip</mat-label>
                    <mat-select [formControl]="typeFormControl" [(ngModel)]='tip'>
                        <mat-option value="Stan">Stan</mat-option>
                        <mat-option value="Kuca">Kuca</mat-option>
                        <mat-option value="Vikendica">Vikendica</mat-option>
                        <mat-option value="Lokal">Lokal</mat-option>
                        <mat-option value="Magacin">Magacin</mat-option>
                    </mat-select>
                    <mat-error *ngIf="typeFormControl.hasError('required')">Izaberite jedan od tipova</mat-error>
                </mat-form-field>
            </td>
        </tr>
        <tr>
            <td>
                <mat-form-field appearance="fill">
                    <mat-label>Grad</mat-label>
                    <mat-select [(ngModel)]='grad' (selectionChange)="onCitySelected($event)">
                        <mat-option *ngFor='let city of cities' value='{{city.name}}'>{{city.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </td>
        </tr>
        <tr>
            <td>
                <mat-form-field appearance="fill">
                    <mat-label>Opstina</mat-label>
                    <mat-select [(ngModel)]='opstina' (selectionChange)="onStateSelected($event)">
                        <mat-option *ngFor='let state of states' value='{{state.name}}'>{{state.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </td>
        </tr>
        <tr>
            <td>
                <mat-form-field appearance="fill">
                    <mat-label>Mikrolokacija</mat-label>
                    <mat-select [(ngModel)]='mikrolokacija' (selectionChange)="onMicrolocationSelected($event)">
                        <mat-option *ngFor='let microlocation of microlocations' value='{{microlocation.name}}'>
                            {{microlocation.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </td>
        </tr>
        <tr>
            <td>
                <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Cena do</mat-label>
                    <input [(ngModel)]='cenaDo' type="number" matInput>
                </mat-form-field>
            </td>
        </tr>
        <tr>
            <td>
                <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Kvadratura od</mat-label>
                    <input [(ngModel)]='kvadraturaOd' type="number" matInput>
                </mat-form-field>
            </td>
        </tr>
        <tr>
            <td>
                <mat-form-field appearance="fill">
                    <mat-label>Minimalan broj soba</mat-label>
                    <mat-select [(ngModel)]='brojSoba'>
                        <mat-option value="1">1</mat-option>
                        <mat-option value="1.5">1.5</mat-option>
                        <mat-option value="2">2</mat-option>
                        <mat-option value="2.5">2.5</mat-option>
                        <mat-option value="3">3</mat-option>
                        <mat-option value="3.5">3.5</mat-option>
                        <mat-option value="4">4</mat-option>
                        <mat-option value="4.5">4.5</mat-option>
                        <mat-option value="5">5+</mat-option>
                    </mat-select>

                </mat-form-field>
            </td>
        </tr>
    </table>
    <div class="div_dugme">
        <button color="primary" mat-raised-button (click)='pretrazi()'>Pretrazi</button>
    </div>
    <div *ngFor='let listing of listingsForDisplay'>
        <app-listing-preview [listing]="listing"></app-listing-preview>
    </div>
    <div class="pagination">
        <button mat-mini-fab color="primary" (click)="pageDec()">
            <mat-icon>keyboard_arrow_left</mat-icon>
        </button>
        <span>{{currentPage}}</span>
        <button mat-mini-fab color="primary" (click)="pageInc()">
            <mat-icon>keyboard_arrow_right</mat-icon>
        </button>
    </div>
</div>